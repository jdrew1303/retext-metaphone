!function(b,a){typeof exports==='object'&&typeof module!=='undefined'?module.exports=b():typeof define==='function'&&define.amd?define([],b):(typeof window!=='undefined'?a=window:typeof global!=='undefined'?a=global:typeof self!=='undefined'?a=self:a=this,a.retextMetaphone=b())}(function(){return function a(b,c,e){function f(d,k){if(!c[d]){if(!b[d]){var i=typeof require=='function'&&require;if(!k&&i)return i(d,!0);if(g)return g(d,!0);var j=new Error("Cannot find module '"+d+"'");throw j.code='MODULE_NOT_FOUND',j}var h=c[d]={exports:{}};b[d][0].call(h.exports,function(c){var a=b[d][1][c];return f(a?a:c)},h,h.exports,a,b,c,e)}return c[d].exports}var g=typeof require=='function'&&require;for(var d=0;d<e.length;d++)f(e[d]);return f}({1:[function(a,e,i){'use strict';function f(c){var a=c.data||{},e=d(c);a.phonetics=b(e),'stem'in a&&(a.stemmedPhonetics=b(a.stem)),c.data=a}function g(a){c(a,'WordNode',f)}function h(){return g}var b=a('metaphone'),c=a('unist-util-visit'),d=a('nlcst-to-string');e.exports=h},{metaphone:2,'nlcst-to-string':3,'unist-util-visit':4}],2:[function(l,i,m){'use strict';function b(a){return String(a).charAt(0).toUpperCase()}function j(a){return b(a).charCodeAt(0)}function d(b){var a=j(b);return a>=65&&a<=90}function g(a){return a=b(a),a==='C'||a==='G'||a==='P'||a==='S'||a==='T'}function c(a){return a=b(a),a==='A'||a==='E'||a==='I'||a==='O'||a==='U'}function e(a){return a=b(a),a==='E'||a==='I'||a==='Y'}function k(a){return a=b(a),a==='B'||a==='D'||a==='H'}function h(o){function b(a){q+=a}function i(a){return o.charAt(j+a).toUpperCase()}function p(a){return function(){return i(a)}}var q='',j=0,m,h,l,n;if(o=String(o||''),!o)return'';h=p(1),l=p(0),n=p(-1);while(!d(l())){if(!l())return'';j++}switch(l()){case'A':h()==='E'?(b('E'),j+=2):(b('A'),j++);break;case'G':case'K':case'P':h()==='N'&&(b('N'),j+=2);break;case'W':h()==='R'?(b(h()),j+=2):h()==='H'?(b(l()),j+=2):c(h())&&(b('W'),j+=2);break;case'X':b('S');j++;break;case'E':case'I':case'O':case'U':b(l());j++;break;default:break}while(l()){if(m=1,!d(l())||l()===n()&&l()!=='C'){j+=m;continue}switch(l()){case'B':n()!=='M'&&b('B');break;case'C':e(h())?h()==='I'&&i(2)==='A'?b(a):n()!=='S'&&b('S'):h()==='H'?(b(a),m++):b('K');break;case'D':h()==='G'&&e(i(2))?(b('J'),m++):b('T');break;case'G':h()==='H'?k(i(-3))||i(-4)==='H'||(b('F'),m++):h()==='N'?!d(i(2))||i(2)==='E'&&i(3)==='D'||b('K'):e(h())&&n()!=='G'?b('J'):b('K');break;case'H':c(h())&&!g(n())&&b('H');break;case'K':n()!=='C'&&b('K');break;case'P':h()==='H'?b('F'):b('P');break;case'Q':b('K');break;case'S':h()==='I'&&(i(2)==='O'||i(2)==='A')?b(a):h()==='H'?(b(a),m++):b('S');break;case'T':h()==='I'&&(i(2)=='O'||i(2)==='A')?b(a):h()==='H'?(b(f),m++):h()==='C'&&i(2)==='H'||b('T');break;case'V':b('F');break;case'W':c(h())&&b('W');break;case'X':b('KS');break;case'Y':c(h())&&b('Y');break;case'Z':b('S');break;case'F':case'J':case'L':case'M':case'N':case'R':b(l());break}j+=m}return q}var a='X',f='0';i.exports=h},{}],3:[function(c,b,d){'use strict';function a(d){var e,b,c;if(typeof d.value==='string')return d.value;if(c=d.children,b=c.length,b===1&&'value'in c[0])return c[0].value;e=[];while(b--)e[b]=a(c[b]);return e.join('')}b.exports=a},{}],4:[function(e,a,f){'use strict';function b(b,d){var a=-1,c=b.length;while(++a<c)if(d(b[a],a)===!1)return!1;return!0}function c(b,d){var a=b.length,c=-1;while(--a>c)if(d(b[a],a)===!1)return!1;return!0}function d(i,a,d,f){var g,e,h;typeof a==='function'&&(f=d,d=a,a=null),g=f?c:b,h=function(a,b){return g(a,function(a,c){return a&&e(a,c,b)})},e=function(b,c,f){var e;return c=c||(f?0:null),(!a||b.type===a)&&(e=d(b,c,f||null)),b.children&&e!==!1?h(b.children,b):e},e(i)}a.exports=d},{}]},{},[1])(1)})
